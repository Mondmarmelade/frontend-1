import{d as w,k as x,P as k,z as r,x as V,o as a,h as n,i as t,b as p,t as y,u as i,U as j,V as _,W as v,f as N,w as S,j as g}from"./vendor.f7aee4c4.js";import{_ as q,s as B}from"./index.2c9228fc.js";const C={id:"container",class:"flex items-center justify-center w-full h-screen"},D={id:"window",class:"flex flex-col items-center justify-center p-3 text-center bg-gray-100 rounded-lg shadow-md dark:bg-gray-900 w-96 h-min"},L=t("h1",{class:"text-2xl font-bold"},"Login",-1),U={key:0,class:"text-green-300"},E={key:1,class:"text-red-300"},M={key:2,class:"italic text-gray-300"},P=g(" You will be redirected to "),R={class:"font-mono"},T=g(" afterwards "),Y=["onSubmit"],$=g("Don't have an account yet?"),z=t("input",{type:"submit",class:"inline p-2 transition-colors ease-in-out bg-gray-300 bg-opacity-25 rounded cursor-pointer h-min group dark:text-white dark:bg-darkest-dark dark:bg-opacity-25 dark:hover:bg-primary hover:bg-primary hover:bg-opacity-50 dark:hover:bg-opacity-50",value:"Login"},null,-1),G=w({setup(I){const m=x(),f=k(),d=r(""),l=r(""),h=r(!1),c=r(""),e=V().query.ref;m.state.accounts.loggedIn&&f.push(e?"/"+e:"/home");const b=()=>{B.login({identifier:d.value,password:l.value}).then(s=>{h.value=!0,m.commit("login",s.user),f.push(e?"/"+e:"/home")}).catch(s=>{c.value=s.error.message})};return(s,o)=>(a(),n("div",C,[t("div",D,[L,h.value?(a(),n("p",U,"Logged in successfuly! You will be redirected any second...")):p("",!0),c.value?(a(),n("p",E,y(c.value),1)):p("",!0),i(e)?(a(),n("p",M,[P,t("span",R,y(i(e)),1),T])):p("",!0),t("form",{class:"flex flex-col items-center justify-center",onSubmit:j(b,["prevent"])},[_(t("input",{type:"email",class:"w-full p-2 my-2 rounded-md shadow-md bg-gray-50 dark:bg-gray-800",placeholder:"Email","onUpdate:modelValue":o[0]||(o[0]=u=>d.value=u),required:""},null,512),[[v,d.value]]),_(t("input",{type:"password",class:"w-full p-2 my-2 rounded-md shadow-md bg-gray-50 dark:bg-gray-800",placeholder:"Password","onUpdate:modelValue":o[1]||(o[1]=u=>l.value=u),required:""},null,512),[[v,l.value]]),N(q,{type:"link",to:i(e)?`register?ref=${i(e)}`:"register"},{default:S(()=>[$]),_:1},8,["to"]),z],40,Y)])]))}});export{G as default};
