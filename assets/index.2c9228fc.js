import{d as $,r as T,o as u,c as f,w as i,a as L,b as v,e as P,f as s,u as n,g as N,h as y,i as e,j as a,k as j,l as F,F as w,m as S,t as k,n as D,p as R,T as A,q as B,s as O,v as V,x as H,y as U,z,A as q,B as G,C as J,D as K,E as W,G as Q,S as X,H as Y,I as Z,J as ee,K as te,L as oe,M as se,N as ne}from"./vendor.f7aee4c4.js";const re=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const m of o)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function l(o){const m={};return o.integrity&&(m.integrity=o.integrity),o.referrerpolicy&&(m.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?m.credentials="include":o.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(o){if(o.ep)return;o.ep=!0;const m=l(o);fetch(o.href,m)}};re();const p=$({props:{type:{type:String,default:"button",validator:t=>["button","link","linkout"].includes(t)},to:{type:String},icon:{type:Object,required:!1}},setup(t){return(r,l)=>{const c=T("router-link");return t.type=="link"?(u(),f(c,{key:0,to:t.to?`/${t.to}`:"#",class:"ease-in-out cursor-pointer h-min dark:text-white hover:border-b-primary hover:border-b-2 transition-border"},{default:i(()=>[t.icon?(u(),f(L(t.icon),{key:0,class:"inline w-5 h-5 mr-1 transition-colors dark:text-white"})):v("",!0),P(r.$slots,"default")]),_:3},8,["to"])):t.type=="linkout"?(u(),f(c,{key:1,target:"_blank",rel:"noopener noreferrer",to:t.to?`/out/${t.to}`:"#",class:"inline ease-in-out cursor-pointer h-min group dark:text-white hover:border-b-primary hover:border-b-2 transition-border"},{default:i(()=>[t.icon?(u(),f(L(t.icon),{key:0,class:"inline w-5 h-5 mr-1 transition-colors dark:text-white"})):v("",!0),P(r.$slots,"default"),s(n(N),{class:"inline w-5 h-5 mb-1 ml-0.5 transition-colors dark:text-white group-hover:text-primary"})]),_:3},8,["to"])):t.type=="button"?(u(),f(c,{key:2,to:t.to?`${t.to}`:"#",class:"inline p-2 transition-colors ease-in-out bg-gray-300 bg-opacity-25 rounded cursor-pointer h-min group dark:text-white dark:bg-darkest-dark dark:bg-opacity-25 dark:hover:bg-primary hover:bg-primary hover:bg-opacity-50 dark:hover:bg-opacity-50"},{default:i(()=>[t.icon?(u(),f(L(t.icon),{key:0,class:"inline w-5 h-5 mr-1 transition-colors dark:text-white"})):v("",!0),P(r.$slots,"default")]),_:3},8,["to"])):v("",!0)}}}),ie={class:"w-full p-8 bg-gray-100 shadow-inner dark:bg-darkest-dark dark:text-white"},le={class:"mb-4 sm:flex"},ae=e("div",{class:"h-auto text-3xl text-center sm:w-1/12 sm:text-sm md:text-base lg:text-lg xl:text-2xl"},[e("div",{class:"mb-2 font-bold dark:text-white text-clean-dark"},[a("Bergflix"),e("span",{class:"text-primary"},".")])],-1),ce={class:"h-auto mt-8 sm:w-1/4 sm:mt-0"},de=e("div",{class:"mb-2 font-bold text-delorean"},"Social Media",-1),ue={class:"leading-normal list-reset"},pe=a(" Patreon "),me=a(" Discord "),he=a(" Twitter "),_e={class:"h-auto mt-8 sm:w-1/4 sm:mt-0"},ge=e("div",{class:"mb-2 font-bold text-delorean"},"Bergflix. Brand",-1),fe={class:"leading-normal list-reset"},be=a(" Bergflix. Branding "),ve=a(" Mithelfen "),ye=a(" Bergflix Open Source "),xe={class:"h-auto mt-8 sm:w-1/4 sm:mt-0"},ke=e("div",{class:"mb-2 font-bold text-delorean"},"Rechtliches & Hilfe",-1),$e={class:"leading-normal list-reset"},we=a(" Datenschutz"),Ee=e("span",{class:"hidden md:inline"},"erkl\xE4rung",-1),Ie=a(" Cookies & Sicherheit "),Le=a(" Impressum "),Pe={class:"h-auto mt-8 sm:w-1/4 sm:mt-0"},Se=e("div",{class:"mb-2 font-bold text-delorean"},'Mehr von "Herr Bergmann"',-1),De={class:"leading-normal list-reset"},Oe=a(" Joine der \u201CFTF\u201D-Redaktion "),Ce=a(" Unterst\xFCtze seine Projekte "),Te=$({setup(t){return(r,l)=>(u(),y("div",ie,[e("div",le,[ae,e("div",ce,[de,e("ul",ue,[e("li",null,[s(p,{type:"linkout",to:"patreon"},{default:i(()=>[pe]),_:1})]),e("li",null,[s(p,{type:"linkout",to:"discord"},{default:i(()=>[me]),_:1})]),e("li",null,[s(p,{type:"linkout",to:"twitter"},{default:i(()=>[he]),_:1})])])]),e("div",_e,[ge,e("ul",fe,[e("li",null,[s(p,{type:"link",to:"branding"},{default:i(()=>[be]),_:1})]),e("li",null,[s(p,{type:"link",to:"apply"},{default:i(()=>[ve]),_:1})]),e("li",null,[s(p,{type:"linkout",to:"github"},{default:i(()=>[ye]),_:1})])])]),e("div",xe,[ke,e("ul",$e,[e("li",null,[s(p,{type:"link",to:"legal/privacy"},{default:i(()=>[we,Ee]),_:1})]),e("li",null,[s(p,{type:"link",to:"legal/cookies"},{default:i(()=>[Ie]),_:1})]),e("li",null,[s(p,{type:"link",to:"legal/imprint"},{default:i(()=>[Le]),_:1})])])]),e("div",Pe,[Se,e("ul",De,[e("li",null,[s(p,{type:"linkout",to:"https://discord.gg/fromthefuture"},{default:i(()=>[Oe]),_:1})]),e("li",null,[s(p,{type:"linkout",to:"https://www.patreon.com/herrbergmann"},{default:i(()=>[Ce]),_:1})])])])])]))}});const je={key:0,id:"side"},Re={id:"sidebar-container",class:"flex flex-col items-center content-center h-full"},Ae={class:"flex flex-row content-center w-full"},Be=e("h1",{class:"text-4xl font-bold text-white"},[a(" Menu"),e("span",{class:"font-bold text-primary"},".")],-1),Ve={id:"sidebar-items",class:"mt-10 space-y-5 text-center text-gray-500"},Me=a("Hilfe & Feedback"),Ne={class:"mt-auto mb-10 space-y-5 text-center text-gray-500"},Fe=$({setup(t){const r=j();let l=()=>r.state.sidebarOpen;function c(){r.commit("toggleSidebar")}const o=[{icon:B,href:"profile",title:"Mein Profil"},{icon:O,href:"settings",title:"Einstellungen"},{icon:V,href:"favorites",title:"Favoriten"},{icon:D,href:"help",title:"Hilfe & Feedback"}];return(m,_)=>(u(),f(A,{name:"slide"},{default:i(()=>[n(l)()?(u(),y("div",je,[e("div",Re,[e("div",Ae,[Be,s(n(F),{class:"w-7 ml-auto mr-2.5 text-gray-500 hover:text-primary cursor-pointer",onClick:c})]),e("ul",Ve,[(u(),y(w,null,S(o,x=>e("li",null,[n(r).state.accounts.loggedIn?(u(),f(p,{key:0,to:x.href.replace("/",""),type:"link",icon:x.icon},{default:i(()=>[a(k(x.title),1)]),_:2},1032,["to","icon"])):v("",!0)])),64)),e("li",null,[s(p,{to:"help",type:"link",icon:n(D)},{default:i(()=>[Me]),_:1},8,["icon"])])]),e("ul",Ne,[e("li",null,[s(p,{to:n(r).state.accounts.loggedIn?"logout":"login",type:"link",icon:n(R)},{default:i(()=>[a(k(n(r).state.accounts.loggedIn?"Logout":"Login"),1)]),_:1},8,["to","icon"])])])])])):v("",!0)]),_:1}))}});const He={class:"fixed top-0 z-50 flex-row items-center hidden w-screen h-20 p-2 space-x-5 text-gray-500 sm:flex bg-gradient-to-b from-dark to-transparent backdrop-blur-sm"},Ue=e("div",{class:"ml-2"},null,-1),ze=a(" Bf "),qe=e("span",{class:"font-bold text-primary"},".",-1),Ge=[ze,qe],Je=a(" Bergflix "),Ke=e("span",{class:"font-bold text-primary"},".",-1),We=[Je,Ke],Qe=e("div",{class:"h-5 mr-5 border-r-2 border-gray-600"},null,-1),Xe={class:"flex flex-row space-x-10"},Ye=["id","href"],Ze={class:"flex flex-col items-end"},et=["src","alt"],tt={class:"font-bold text-delorean"},ot=a("Hilfe & Feedback"),st=e("hr",{class:"my-2 border-delorean"},null,-1),nt=$({setup(t){const r=H();U(()=>r.path);const l=j();l.state.showSidebar;function c(){l.commit("toggleSidebar")}const o=z(!1),m=[{path:"/home",text:"Home"},{path:"/movies",text:"Movies"},{path:"/series",text:"Series"},{path:"/party",text:"Party"}],_=[{icon:B,href:"profile",title:"Mein Profil"},{icon:O,href:"settings",title:"Einstellungen"},{icon:V,href:"favorites",title:"Favoriten"}],x=()=>{C.logout(),l.commit("logout")};return(b,d)=>(u(),y(w,null,[e("nav",He,[Ue,e("h1",{onClick:d[0]||(d[0]=h=>b.$router.push("/home")),class:"text-4xl font-bold cursor-pointer text-darkest-dark dark:text-white md:hidden"},Ge),e("h1",{onClick:d[1]||(d[1]=h=>b.$router.push("/home")),class:"hidden text-4xl font-bold cursor-pointer text-darkest-dark dark:text-white md:block"},We),Qe,e("ul",Xe,[(u(),y(w,null,S(m,h=>e("li",null,[e("a",{id:h.path,class:"hover:text-primary",href:h.path},k(h.text),9,Ye)])),64))]),e("div",{style:{"margin-left":"auto","margin-right":"2rem"},class:"flex flex-row h-full",id:"items-right",onMouseleave:d[4]||(d[4]=h=>o.value=!1)},[e("div",Ze,[e("img",{src:n(l).getters.getUser.image?n(l).getters.getUser.image:"https://cdn.bergflix.de/logo/light_bg.png",alt:"Logged in as "+n(l).getters.getUser.username,class:"rounded-full shadow w-14 h-14",onMouseenter:d[2]||(d[2]=h=>o.value=!0)},null,40,et),s(A,{name:"slide"},{default:i(()=>[o.value?(u(),y("div",{key:0,id:"user-popup",class:"flex flex-col p-5 mt-2 bg-black rounded-md spapce-y-5 h-max w-max",onMouseleave:d[3]||(d[3]=h=>o.value=!1)},[e("h2",tt,"Hi, "+k(n(l).getters.getUser.username)+"!",1),e("ul",null,[(u(),y(w,null,S(_,h=>e("li",null,[n(l).state.accounts.loggedIn?(u(),f(p,{key:0,to:h.href.replace("/",""),type:"link",icon:h.icon},{default:i(()=>[a(k(h.title),1)]),_:2},1032,["to","icon"])):v("",!0)])),64)),e("li",null,[s(p,{to:"help",type:"link",icon:n(D)},{default:i(()=>[ot]),_:1},8,["icon"])])]),st,s(p,{to:n(l).state.accounts.loggedIn?"#":"login",type:"link",icon:n(l).state.accounts.loggedIn?n(q):n(R),onClick:x},{default:i(()=>[a(k(n(l).state.accounts.loggedIn?"Logout":"Login"),1)]),_:1},8,["to","icon"])],32)):v("",!0)]),_:1})])],32)]),e("nav",{class:Q(["fixed bottom-0 z-50 flex flex-row w-full py-2 text-white h-11 justify-evenly sm:hidden rounded-t-md",n(l).state.accounts.loggedIn?"bg-black":"bg-gradient-to-b to-black from-transparent"])},[s(n(G),{class:"cursor-pointer hover:text-primary",onClick:d[5]||(d[5]=h=>b.$router.push("/party"))}),s(n(J),{class:"cursor-pointer hover:text-primary",onClick:d[6]||(d[6]=h=>b.$router.push("/search"))}),s(n(K),{class:"cursor-pointer hover:text-primary",onClick:d[7]||(d[7]=h=>b.$router.push("/home"))}),s(n(W),{class:"cursor-pointer hover:text-primary",onClick:d[8]||(d[8]=h=>b.$router.push("/library"))}),s(n(O),{class:"cursor-pointer hover:text-primary",onClick:c})],2),s(Fe)],64))}});const rt={class:"flex flex-col min-h-screen px-10 text-gray-900 bg-gray-200 dark:bg-clean-dark dark:text-clean-white"},it=e("div",{class:"flex items-center justify-center h-screen"},[e("div",{class:"spinner"})],-1),lt=$({setup(t){return(r,l)=>{const c=T("router-view");return u(),y(w,null,[s(nt),e("div",rt,[(u(),f(X,null,{default:i(()=>[s(c)]),loading:i(()=>[it]),_:1}))]),s(Te)],64)}}});const at="modulepreload",M={},ct="/",g=function(r,l){return!l||l.length===0?r():Promise.all(l.map(c=>{if(c=`${ct}${c}`,c in M)return;M[c]=!0;const o=c.endsWith(".css"),m=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const _=document.createElement("link");if(_.rel=o?"stylesheet":at,o||(_.as="script",_.crossOrigin=""),_.href=c,document.head.appendChild(_),o)return new Promise((x,b)=>{_.addEventListener("load",x),_.addEventListener("error",b)})})).then(()=>r())},dt=()=>g(()=>import("./Home.4cbc6b74.js"),["assets/Home.4cbc6b74.js","assets/Textblock.30abc273.js","assets/Textblock.4b35b41e.css","assets/vendor.f7aee4c4.js"]),ut=()=>g(()=>import("./Out.deab4531.js"),["assets/Out.deab4531.js","assets/vendor.f7aee4c4.js"]),pt=()=>g(()=>import("./Branding.6bd5802b.js"),["assets/Branding.6bd5802b.js","assets/vendor.f7aee4c4.js"]),mt=()=>g(()=>import("./Register.f3167895.js"),["assets/Register.f3167895.js","assets/vendor.f7aee4c4.js"]),ht=()=>g(()=>import("./About.663c7d2d.js"),["assets/About.663c7d2d.js","assets/Textblock.30abc273.js","assets/Textblock.4b35b41e.css","assets/vendor.f7aee4c4.js"]),_t=()=>g(()=>import("./Login.d2ef5bf4.js"),["assets/Login.d2ef5bf4.js","assets/vendor.f7aee4c4.js"]),gt=()=>g(()=>import("./Profile.275c36df.js"),["assets/Profile.275c36df.js","assets/vendor.f7aee4c4.js"]),ft=()=>g(()=>import("./Movies.f3ad69d0.js"),["assets/Movies.f3ad69d0.js","assets/vendor.f7aee4c4.js","assets/Poster.e353bd48.js"]),bt=()=>g(()=>import("./Series.c209dca6.js"),["assets/Series.c209dca6.js","assets/vendor.f7aee4c4.js","assets/Poster.e353bd48.js"]),vt=()=>g(()=>import("./Imprint.05d35349.js"),["assets/Imprint.05d35349.js","assets/vendor.f7aee4c4.js"]),yt=()=>g(()=>import("./Privacy.cbc04f18.js"),["assets/Privacy.cbc04f18.js","assets/vendor.f7aee4c4.js"]),xt=()=>g(()=>import("./Terms.bd0fdcd3.js"),["assets/Terms.bd0fdcd3.js","assets/Terms.a028997b.css","assets/vendor.f7aee4c4.js"]),kt=[{path:"/",redirect:"/home"},{path:"/home",component:dt},{path:"/login",component:_t},{path:"/out/:link(.*)",component:ut},{path:"/branding",component:pt},{path:"/register",component:mt},{path:"/about",component:ht},{path:"/profile",component:gt},{path:"/movies",component:ft},{path:"/series",component:bt},{path:"/legal/imprint",component:vt},{path:"/legal/privacy",component:yt},{path:"/legal/terms",component:xt},{path:"/legal",redirect:"/legal/imprint"}],$t=Y({history:Z(),routes:kt}),E=ee({state:{sidebarOpen:!1,accounts:{loggedIn:!1},language:"en"},mutations:{toggleSidebar(t){t.sidebarOpen=!t.sidebarOpen},login(t,r){t.accounts.loggedIn=!0},logout(t){t.accounts.loggedIn=!1}},getters:{getUser(t){return t.accounts.loggedIn?C.user:{username:"Guest",image:"https://cdn.bergflix.de/logo/light_bg.png"}},getLanguage(t){return t.language}}}),I=te(lt);I.use(oe,{plyr:{}});I.use($t);I.use(E);const C=new se({store:{key:"strapi_jwt",useLocalStorage:!1,cookieOptions:{path:"/"}},url:"https://api.bergflix.de/",prefix:"/api"});C.fetchUser().then(t=>{t&&E.commit("login")});const wt=(t,r)=>{E.commit("login",{name:t||"Test",image:r||"https://picsum.photos/200"})},Et=()=>{E.commit("logout")},It=()=>E.getters.getUser;I.use(ne);I.mount("#app");window.DebugNamespace=window.DebugNamespace||{};window.DebugNamespace.login=wt;window.DebugNamespace.logout=Et;window.DebugNamespace.getUser=It;export{p as _,C as s};
