import{d as x,k,P as V,z as r,x as j,o as n,h as l,i as t,b as m,t as b,u as i,U as R,V as g,W as f,f as U,w as q,j as y}from"./vendor.f7aee4c4.js";import{_ as N,s as S}from"./index.2c9228fc.js";const B={id:"container",class:"flex items-center justify-center w-full h-screen"},C={id:"window",class:"flex flex-col items-center justify-center p-3 text-center bg-gray-100 rounded-lg shadow-md dark:bg-gray-900 w-96 h-min"},D=t("h1",{class:"text-2xl font-bold"},"Register",-1),E={key:0,class:"text-green-300"},M={key:1,class:"text-red-300"},P={key:2,class:"italic text-gray-300"},T=y("You will be redirected to "),Y={class:"font-mono"},$=y(" afterwards"),z=["onSubmit"],I=y("Don't have an account yet?"),W=t("input",{type:"submit",class:"inline p-2 transition-colors ease-in-out bg-gray-300 bg-opacity-25 rounded cursor-pointer h-min group dark:text-white dark:bg-darkest-dark dark:bg-opacity-25 dark:hover:bg-primary hover:bg-primary hover:bg-opacity-50 dark:hover:bg-opacity-50",value:"Register"},null,-1),J=x({setup(A){const h=k(),_=V(),d=r(""),u=r(""),c=r(""),v=r(!1),p=r(""),e=j().query.ref;h.state.accounts.loggedIn&&_.push(e?"/"+e:"/home");const w=()=>{S.register({username:d.value,email:u.value,password:c.value}).then(a=>{v.value=!0,h.commit("login",a.user),_.push(e?"/"+e:"/home")}).catch(a=>{p.value=a.error.message})};return(a,s)=>(n(),l("div",B,[t("div",C,[D,v.value?(n(),l("p",E,"Registered successfuly! You will be redirected any second...")):m("",!0),p.value?(n(),l("p",M,b(p.value),1)):m("",!0),i(e)?(n(),l("p",P,[T,t("span",Y,b(i(e)),1),$])):m("",!0),t("form",{class:"flex flex-col items-center justify-center",onSubmit:R(w,["prevent"])},[g(t("input",{type:"text",class:"w-full p-2 my-2 bg-gray-800 rounded-md",placeholder:"Username","onUpdate:modelValue":s[0]||(s[0]=o=>d.value=o),required:""},null,512),[[f,d.value]]),g(t("input",{type:"email",class:"w-full p-2 my-2 bg-gray-800 rounded-md",placeholder:"Email","onUpdate:modelValue":s[1]||(s[1]=o=>u.value=o),required:""},null,512),[[f,u.value]]),g(t("input",{type:"password",class:"w-full p-2 my-2 bg-gray-800 rounded-md",placeholder:"Password","onUpdate:modelValue":s[2]||(s[2]=o=>c.value=o),required:""},null,512),[[f,c.value]]),U(N,{type:"link",to:i(e)?`login?ref=${i(e)}`:"login"},{default:q(()=>[I]),_:1},8,["to"]),W],40,z)])]))}});export{J as default};
